(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{269:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread2=__webpack_require__(55),slicedToArray=__webpack_require__(34),react=__webpack_require__(1),react_default=__webpack_require__.n(react),lib=__webpack_require__(48),lib_default=__webpack_require__.n(lib),toConsumableArray=__webpack_require__(85),src_useSpreadsheet=function useSpreadsheet(_ref){var defaultCells=_ref.defaultCells,cellsProp=_ref.cells,onCellsChangeProp=_ref.onCellsChange,defaultRows=_ref.defaultRows,rowsProp=_ref.rows,onRowsChangeProp=_ref.onRowsChange,defaultColumns=_ref.defaultColumns,columnsProp=_ref.columns,onColumnsChangeProp=_ref.onColumnsChange,totalRows=_ref.totalRows,totalColumns=_ref.totalColumns,_useState=Object(react.useState)(defaultCells||[]),_useState2=Object(slicedToArray.a)(_useState,2),cellsState=_useState2[0],setCellsState=_useState2[1],cells=cellsProp||cellsState,onCellsChange=onCellsChangeProp||setCellsState,_useState3=Object(react.useState)(defaultRows||[]),_useState4=Object(slicedToArray.a)(_useState3,2),rowsState=_useState4[0],setRowsState=_useState4[1],rows=rowsProp||rowsState;rows=Object(react.useMemo)((function(){return Object(toConsumableArray.a)(new Array(totalRows).keys()).map((function(key){return Object(objectSpread2.a)({},rows[key],{key:key})})).filter((function(row){return!row||!row.hidden}))}),[totalRows,rows]);var onRowsChange=onRowsChangeProp||setRowsState,_useState5=Object(react.useState)(defaultColumns||[]),_useState6=Object(slicedToArray.a)(_useState5,2),columnsState=_useState6[0],setColumnsState=_useState6[1],columns=columnsProp||columnsState;columns=Object(react.useMemo)((function(){return Object(toConsumableArray.a)(new Array(totalColumns).keys()).map((function(key){return Object(objectSpread2.a)({},columns[key],{key:key})})).filter((function(column){return!column||!column.hidden}))}),[totalColumns,columns]);var onColumnsChange=onColumnsChangeProp||setColumnsState,rowsSizes=Object(react.useMemo)((function(){return rows.map((function(row){return row.size}))}),[rows]),columnsSizes=Object(react.useMemo)((function(){return columns.map((function(column){return column.size}))}),[columns]);return{cells:cells,onCellsChange:onCellsChange,rows:rows,onRowsChange:onRowsChange,columns:columns,onColumnsChange:onColumnsChange,rowsSizes:rowsSizes,columnsSizes:columnsSizes}},SpreadsheetCell_SpreadsheetCell=function SpreadsheetCell(props){return react_default.a.createElement(lib.ScrollerCell,props)};SpreadsheetCell_SpreadsheetCell.__docgenInfo={description:"",methods:[],displayName:"SpreadsheetCell"};var src_SpreadsheetCell=SpreadsheetCell_SpreadsheetCell;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\SpreadsheetCell.js"]={name:"SpreadsheetCell",docgenInfo:SpreadsheetCell_SpreadsheetCell.__docgenInfo,path:"src\\SpreadsheetCell.js"});var Heading_Heading=function Heading(_ref){var className,value=_ref.value,mode=_ref.mode,style=_ref.style;return"row"===mode?className="row-heading":"column"===mode&&(className="column-heading"),react_default.a.createElement("div",{className:"heading-cell ".concat(className),style:style},value.key+1)};Heading_Heading.__docgenInfo={description:"",methods:[],displayName:"Heading"};var src_Heading=Heading_Heading;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\Heading.js"]={name:"Heading",docgenInfo:Heading_Heading.__docgenInfo,path:"src\\Heading.js"});var Spreadsheet_HeadingsIntersection=function HeadingsIntersection(_ref){var rowHeadingWidth=_ref.rowHeadingWidth,columnHeadingHeight=_ref.columnHeadingHeight;return react_default.a.createElement("div",{className:"heading-cell heading-intersection",style:{width:rowHeadingWidth,height:columnHeadingHeight}})},ColumnsHeadings=Object(react.forwardRef)((function(_ref2,ref){var overscroll=_ref2.overscroll,hideHeadings=_ref2.hideHeadings,_ref2$columnHeadingHe=_ref2.columnHeadingHeight,columnHeadingHeight=void 0===_ref2$columnHeadingHe?20:_ref2$columnHeadingHe,columnsSizes=_ref2.columnsSizes,defaultColumnWidth=_ref2.defaultColumnWidth,columns=_ref2.columns,totalColumns=_ref2.totalColumns,columnsScrollData=_ref2.columnsScrollData,scrolledTop=_ref2.scrolledTop,columnsHeadingsValue=Object(react.useMemo)((function(){return[columns]}),[columns]);return!hideHeadings&&react_default.a.createElement(lib_default.a,{ref:ref,CellComponent:src_Heading,cellComponentProps:{mode:"column"},rowComponentProps:{className:"row"},value:columnsHeadingsValue,height:columnHeadingHeight,columnsSizes:columnsSizes,className:"columns-headings".concat(scrolledTop?" last-row":""),overscroll:overscroll,totalRows:1,totalColumns:totalColumns,defaultColumnWidth:defaultColumnWidth,defaultRowHeight:columnHeadingHeight,columnsScrollData:columnsScrollData})})),RowsHeadings=Object(react.forwardRef)((function(_ref3,ref){var overscroll=_ref3.overscroll,hideHeadings=_ref3.hideHeadings,_ref3$rowHeadingWidth=_ref3.rowHeadingWidth,rowHeadingWidth=void 0===_ref3$rowHeadingWidth?40:_ref3$rowHeadingWidth,rowsSizes=_ref3.rowsSizes,defaultRowHeight=_ref3.defaultRowHeight,rows=_ref3.rows,totalRows=_ref3.totalRows,rowsScrollData=_ref3.rowsScrollData,scrolledLeft=_ref3.scrolledLeft;return!hideHeadings&&react_default.a.createElement(lib_default.a,{ref:ref,CellComponent:src_Heading,cellComponentProps:{mode:"row"},rowComponentProps:{className:"row"},value:rows,width:rowHeadingWidth,rowsSizes:rowsSizes,className:"rows-headings".concat(scrolledLeft?" last-column":""),overscroll:overscroll,totalColumns:1,totalRows:totalRows,defaultColumnWidth:rowHeadingWidth,defaultRowHeight:defaultRowHeight,rowsScrollData:rowsScrollData})})),Spreadsheet_Spreadsheet=function Spreadsheet(inputProps){var _useState=Object(react.useState)(),_useState2=Object(slicedToArray.a)(_useState,2),rowsScrollData=_useState2[0],onRowsScrollDataChange=_useState2[1],_useState3=Object(react.useState)(),_useState4=Object(slicedToArray.a)(_useState3,2),columnsScrollData=_useState4[0],onColumnsScrollDataChange=_useState4[1],scrollerContainerRef=Object(react.useRef)(),spreadsheetProps=src_useSpreadsheet(inputProps),_useState5=Object(react.useState)(!1),_useState6=Object(slicedToArray.a)(_useState5,2),scrolledTop=_useState6[0],setScrolledTop=_useState6[1],_useState7=Object(react.useState)(!1),_useState8=Object(slicedToArray.a)(_useState7,2),scrolledLeft=_useState8[0],setScrolledLeft=_useState8[1],handleScroll=Object(react.useCallback)((function(e){setScrolledTop(e.target.scrollTop>0),setScrolledLeft(e.target.scrollLeft>0)}),[]),props=Object(objectSpread2.a)({},inputProps,{},spreadsheetProps),scrollerProps=Object(lib.useScroller)(Object(objectSpread2.a)({},props,{value:props.cells,rowsScrollData:rowsScrollData,onRowsScrollDataChange:onRowsScrollDataChange,columnsScrollData:columnsScrollData,onColumnsScrollDataChange:onColumnsScrollDataChange,scrollerContainerRef:scrollerContainerRef,onScroll:handleScroll})),_props=props=Object(objectSpread2.a)({},props,{},scrollerProps),visibleRowsIndexes=_props.visibleRowsIndexes,visibleColumnsIndexes=_props.visibleColumnsIndexes,scrollAreaStyle=_props.scrollAreaStyle,visibleAreaStyle=_props.visibleAreaStyle,hideHeadings=_props.hideHeadings,noGrid=_props.noGrid,cells=_props.cells,rowsSizes=_props.rowsSizes,columnsSizes=_props.columnsSizes,rows=_props.rows,columns=_props.columns,rowHeadingWidth=_props.rowHeadingWidth,columnHeadingHeight=_props.columnHeadingHeight,totalRows=_props.totalRows,totalColumns=_props.totalColumns,defaultRowHeight=_props.defaultRowHeight,defaultColumnWidth=_props.defaultColumnWidth,overscroll=_props.overscroll,CellComponent=_props.CellComponent,resultClassName="spreadsheet".concat(noGrid?" no-grid":""),columnsHeadingsElement=react_default.a.createElement(ColumnsHeadings,{ref:scrollerContainerRef,columns:columns,columnHeadingHeight:columnHeadingHeight,totalColumns:totalColumns,columnsSizes:columnsSizes,defaultColumnWidth:defaultColumnWidth,hideHeadings:hideHeadings,columnsScrollData:columnsScrollData,overscroll:overscroll,width:scrollAreaStyle.width,scrolledTop:scrolledTop}),rowsHeadingsElement=react_default.a.createElement(RowsHeadings,{ref:scrollerContainerRef,rows:rows,rowHeadingWidth:rowHeadingWidth,totalRows:totalRows,rowsSizes:rowsSizes,defaultRowHeight:defaultRowHeight,hideHeadings:hideHeadings,rowsScrollData:rowsScrollData,overscroll:overscroll,scrolledLeft:scrolledLeft}),valueElements=visibleRowsIndexes.map((function(rowIndex){var columnsElements=visibleColumnsIndexes.map((function(columnIndex){return react_default.a.createElement(src_SpreadsheetCell,{key:columnIndex,Component:CellComponent,rowIndex:rowIndex,columnIndex:columnIndex})}));return react_default.a.createElement("div",{key:rowIndex,className:"row"},columnsElements)}));return react_default.a.createElement(lib.ScrollerContainer,Object.assign({ref:scrollerContainerRef,className:resultClassName,value:cells,style:{display:"grid",gridTemplateColumns:"".concat(rowHeadingWidth,"px auto")}},props),react_default.a.createElement(Spreadsheet_HeadingsIntersection,{rowHeadingWidth:rowHeadingWidth,columnHeadingHeight:columnHeadingHeight}),columnsHeadingsElement,rowsHeadingsElement,react_default.a.createElement("div",{style:scrollAreaStyle},react_default.a.createElement("div",{style:visibleAreaStyle},valueElements)))};Spreadsheet_Spreadsheet.__docgenInfo={description:"",methods:[],displayName:"Spreadsheet"};__webpack_exports__.a=Spreadsheet_Spreadsheet;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\Spreadsheet.js"]={name:"Spreadsheet",docgenInfo:Spreadsheet_Spreadsheet.__docgenInfo,path:"src\\Spreadsheet.js"})},270:function(module,exports,__webpack_require__){__webpack_require__(271),__webpack_require__(417),module.exports=__webpack_require__(418)},335:function(module,exports){},418:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(112),req=__webpack_require__(607);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){req.keys().forEach((function(filename){return req(filename)}))}),module)}.call(this,__webpack_require__(211)(module))},607:function(module,exports,__webpack_require__){var map={"./Spreadsheet.stories.js":608};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=607},608:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"defaultComponent",(function(){return defaultComponent}));var C_Users_Vadim_Node_projects_react_spreadsheet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(112),_Spreadsheet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(269),generateMeta=(__webpack_require__(614),function generateMeta(count){return Object(C_Users_Vadim_Node_projects_react_spreadsheet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(new Array(count).keys())}),cells=function generateCells(rowsCount,columnsCount){return generateMeta(rowsCount).map((function(row){return generateMeta(columnsCount).map((function(column){return{value:"Value ".concat(row," - ").concat(column)}}))}))}(1e3,50),CellComponent=function CellComponent(_ref){var cell=_ref.value,style=_ref.style;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"cell value-cell",style:style},cell.value)},defaultComponent=function defaultComponent(props){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Spreadsheet__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({defaultRowHeight:30,defaultColumnWidth:120,cells:cells,totalRows:cells.length,totalColumns:cells[0].length,height:"100vh",overscroll:2,CellComponent:CellComponent,columnHeadingHeight:20,rowHeadingWidth:40},props))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("Spreadsheet",module).add("default",defaultComponent),defaultComponent.__docgenInfo={description:"",methods:[],displayName:"defaultComponent"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\Spreadsheet.stories.js"]={name:"defaultComponent",docgenInfo:defaultComponent.__docgenInfo,path:"src\\Spreadsheet.stories.js"})}.call(this,__webpack_require__(211)(module))},614:function(module,exports,__webpack_require__){}},[[270,1,2]]]);
//# sourceMappingURL=main.171dcdcd2d952173ac5d.bundle.js.map